{%- liquid
  assign current_variant = product.selected_or_first_available_variant
  assign second_image = ''
  assign onProductHover = settings.show_hover
  if product.media.size > 1
    for media in product.media
      unless media.preview_image.src == product.featured_media.preview_image.src
        assign second_image = media
        break
      endunless
    endfor
  endif
  assign productImageSize = '450x'

  assign mainProductUrl = product.url | within: collection
  if settings.remove_collection_url
    assign mainProductUrl = product.url
  endif
  assign productInfoAlignment = settings.product_grid_content_alignment
-%}
<div
  class="yv-product-card{% if settings.layout_style == 'rounded' or customRadius %} product-grid-layout-rounded{% endif %} {{ productClasses }}"
  {{ mainAttr }}
  data-product-main-grid
>
  <div
    class="animated-grid"
    {% if settings.enable_animation %}
      {{- animationAttr -}}
    {% endif %}
  >
    <div
      class="yv-product-card-img {% unless hideHoverImage %}{% if onProductHover == 'image' and second_image != blank %}yv-product-hover-image{% elsif onProductHover == 'slider' and product.media.size > 1%}yv-product-hover-slider{% endif %}{% endunless %}"
      tabindex="-1"
    >
        {% if source %}
          <button id="bundleItem-{{ section.id }}-{{ product.id }}" class="bundle-atc-button" data-add-item-to-bundle>
            <span class="add-to-bundle atc-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                <circle cx="20" cy="19.9999" r="14.1421" transform="rotate(45 20 19.9999)" fill="black"/>
                <path d="M26.2291 19.9017C26.2291 19.7071 26.1518 19.5204 26.0141 19.3828C25.8765 19.2451 25.6898 19.1678 25.4951 19.1677L20.734 19.1677L20.734 14.4066C20.734 14.212 20.6566 14.0253 20.519 13.8876C20.3813 13.75 20.1947 13.6726 20 13.6726C19.8053 13.6726 19.6187 13.75 19.481 13.8876C19.3434 14.0253 19.266 14.212 19.266 14.4066L19.266 19.1677L14.5049 19.1677C14.3102 19.1678 14.1235 19.2451 13.9859 19.3828C13.8482 19.5204 13.7709 19.7071 13.7709 19.9017C13.7709 20.0964 13.8482 20.2831 13.9859 20.4207C14.1235 20.5584 14.3102 20.6357 14.5049 20.6357L19.266 20.6357L19.266 25.3969C19.266 25.5915 19.3434 25.7782 19.481 25.9159C19.6187 26.0535 19.8053 26.1308 20 26.1309C20.1947 26.1308 20.3813 26.0535 20.519 25.9159C20.6566 25.7782 20.734 25.5915 20.734 25.3969L20.734 20.6357L25.4951 20.6357C25.6898 20.6357 25.8765 20.5584 26.0141 20.4207C26.1518 20.2831 26.2291 20.0964 26.2291 19.9017Z" fill="white"/>
               </svg>
            </span>
            <span class="added-to-bundle atc-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                <g clip-path="url(#clip0_306_103)">
                <path d="M12.5 0C5.59668 0 0 5.59668 0 12.5C0 19.4033 5.59668 25 12.5 25C19.4033 25 25 19.4033 25 12.5C25 5.59668 19.4033 0 12.5 0ZM19.6562 8.79248L19.6519 8.79688C19.6498 8.7995 19.6471 8.80153 19.644 8.80273C19.6409 8.80394 19.6376 8.80427 19.6343 8.80371L9.25928 19.1787L5.06494 14.9844C4.80128 14.7208 4.6531 14.3634 4.65301 13.9906C4.65292 13.6178 4.80092 13.2602 5.06445 12.9966C5.32799 12.7329 5.68546 12.5847 6.05825 12.5847C6.43103 12.5846 6.78858 12.7326 7.05225 12.9961L9.2583 15.2021L17.646 6.81543C17.9089 6.55215 18.2652 6.40346 18.6372 6.40177C19.0093 6.40008 19.3669 6.54553 19.6322 6.80642C19.8974 7.0673 20.0488 7.42246 20.0533 7.79449C20.0578 8.16652 19.9151 8.52525 19.6562 8.79248Z" fill="black"/>
                </g>
                <defs>
                <clipPath id="clip0_306_103">
                <rect width="25" height="25" fill="white"/>
                </clipPath>
                </defs>
              </svg>
            </span>
          </button>
        {% endif %}
      <a
        class="yv-product-img {% if settings.pass_through_product_images %} pass-through-color{% endif %}"
        href="{{ mainProductUrl }}"
        aria-label="{{ product.title | strip_html }}"
        title="{{ product.title | strip_html }}"
        tabindex="-1"
      >
        {%- if product.featured_media != blank -%}
          <div
            class="image-wrapper image-{{ settings.product_image_style }}"
            {% if settings.product_image_style == 'aspect' %}
              style="padding-bottom:{{ 1 | divided_by : product.featured_media.preview_image.aspect_ratio | times: 100 | minus : 1 }}%"
            {% endif %}
            data-product-grid-main-image
          >
            {% if product.featured_media.media_type == 'video' %}
              <deferred-media class="product-first-img">
                <template style="display:none">
                  {{
                    product.featured_media
                    | video_tag:
                      image_size: '600x',
                      class: 'videoBackgroundFile',
                      autoplay: true,
                      loop: true,
                      controls: false,
                      muted: true
                  }}
                </template>
                <noscript>
                  <img
                    src="{{ product.featured_media.preview_image | image_url: width: 600 }}"
                    loading="eager"
                    alt="{{ product.featured_media.preview_image.alt | default: shop.name | strip_html }}"
                    width="{{ product.featured_media.preview_image.width }}"
                    height="{{ product.featured_media.preview_image.height }}"
                  >
                </noscript>
              </deferred-media>
            {% else %}
              <img
                srcset="
                  {%- if product.featured_media.preview_image.width >= 165 -%}{{ product.featured_media.preview_image | image_url: width: 165 }} 165w,{%- endif -%}
                  {%- if product.featured_media.preview_image.width >= 360 -%}{{ product.featured_media.preview_image | image_url: width: 360 }} 360w,{%- endif -%}
                  {%- if product.featured_media.preview_image.width >= 533 -%}{{ product.featured_media.preview_image | image_url: width: 533 }} 533w,{%- endif -%}
                  {%- if product.featured_media.preview_image.width >= 720 -%}{{ product.featured_media.preview_image | image_url: width: 720 }} 720w,{%- endif -%}
                  {%- if product.featured_media.preview_image.width >= 940 -%}{{ product.featured_media.preview_image | image_url: width: 940 }} 940w,{%- endif -%}
                  {%- if product.featured_media.preview_image.width >= 1066 -%}{{ product.featured_media.preview_image | image_url: width: 1066 }} 1066w,{%- endif -%}
                  {{ product.featured_media.preview_image | image_url }} {{ product.featured_media.preview_image.width }}w
                "
                src="{{ product.featured_media.preview_image | image_url: width: 533 }}"
                sizes="auto"
                alt="{{ product.featured_media.preview_image.alt | escape }}"
                class="product-first-img"
                {% if settings.enable_lazyload %}
                  loading="lazy"
                {% endif %}
                width="{{ product.featured_media.preview_image.width }}"
                height="{{ product.featured_media.preview_image.height }}"
              >
              {% comment %} {{
                product.featured_media.preview_image
                | image_url: width: productImageSize
                | image_tag: sizes: 'auto', class: 'product-first-img', widths: '100,200,300,400,500,600,700,800'
              }} {% endcomment %}
            {% endif %}
          </div>
          {%- if onProductHover == 'image' and second_image != blank -%}
            {% if second_image.media_type == 'video' %}
              <deferred-media class="product-second-img">
                <template style="display:none">
                  {{
                    second_image
                    | video_tag:
                      image_size: '400x',
                      class: 'videoBackgroundFile',
                      autoplay: true,
                      loop: true,
                      controls: false,
                      muted: true
                  }}
                </template>
                <noscript>
                  <img
                    src="{{ second_image.preview_image | image_url: width: 600 }}"
                    loading="eager"
                    alt="{{ second_image.preview_image.alt | default: shop.name | strip_html }}"
                    width="{{ second_image.preview_image.width }}"
                    height="{{ second_image.preview_image.height }}"
                  >
                </noscript>
              </deferred-media>
            {% else %}
              {%- render 'lazy-image',
                image: second_image,
                class: 'product-second-img',
                width: productImageSize,
                sizes: '[100,200,300,400,500,600,700,800]'
              -%} 
              {% comment %} <img
                srcset="
                  {%- if second_image.width >= 165 -%}{{ second_image | image_url: width: 165 }} 165w,{%- endif -%}
                  {%- if second_image.width >= 360 -%}{{ second_image | image_url: width: 360 }} 360w,{%- endif -%}
                  {%- if second_image.width >= 533 -%}{{ second_image | image_url: width: 533 }} 533w,{%- endif -%}
                  {%- if second_image.width >= 720 -%}{{ second_image | image_url: width: 720 }} 720w,{%- endif -%}
                  {%- if second_image.width >= 940 -%}{{ second_image | image_url: width: 940 }} 940w,{%- endif -%}
                  {%- if second_image.width >= 1066 -%}{{ second_image | image_url: width: 1066 }} 1066w,{%- endif -%}
                  {{ second_image | image_url }} {{ second_image.width }}w
                "
                src="{{second_image | image_url: width: 533 }}"
                sizes="auto"
                alt="{{ second_image.alt | escape }}"
                class="product-second-img"
                {% if settings.enable_lazyload %}
                  loading="lazy"
                {% endif %}
                width="{{ second_image.width }}"
                height="{{ second_image.height }}"
              > {% endcomment %}
            {% endif %}
          {%- endif -%}
        {%- else -%}
          {%- if settings.product_image_style != 'aspect' -%}
            <div class="image-wrapper no-product-image image-{{ settings.product_image_style }}">
          {%- endif -%}
          {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
          {%- if settings.product_image_style != 'aspect' -%}
            </div>
          {%- endif -%}
        {%- endif -%}
        {%- unless hideHoverImage -%}
          {%- if onProductHover == 'slider' and product.media.size > 1 -%}
            {%- capture hoverSettings -%}
        {%- if settings.product_hover_auto_slide -%}
        "prevNextButtons":false,"pageDots":true,"autoPlay":1500,
        {%- else -%}
        "prevNextButtons":false,"pageDots":false,
        {%- endif -%}
      {%- endcapture -%}
            <div class="main-slider-wrapper">
              <div
                class="sd-main-Slider"
                {% if product.media.size > 2 %}
                  data-flickity-hover-slider='{"fade":true,"wrapAround":true,"contain":true,{{- hoverSettings -}}"cellSelector":".sd-slide-wrapper","pauseAutoPlayOnHover": false}'
                {% endif %}
              >
                <deferred-media
                  {% if product.media.size <= 2 %}
                    class="product-img"
                  {% endif %}
                >
                  <template style="display:none">
                    {% liquid
                      assign limit = 1
                      if product.media.size == 3
                        assign limit = 2
                      endif
                    %}
                    {% for in in (1..limit) %}
                      {%- for media in product.media offset: 1 limit: 5 -%}
                        <div class="sd-slide-wrapper sd-active-slider">
                          <div class="yv-product-img">
                            <div
                              class="image-wrapper image-{{ settings.product_image_style }}"
                              {% if settings.product_image_style == 'aspect' %}
                                style="padding-bottom:{{ 1 | divided_by : media.preview_image.aspect_ratio | times: 100 | minus : 1 }}%"
                              {% endif %}
                            >
                              {% if media.media_type == 'video' %}
                                {{
                                  media
                                  | video_tag:
                                    image_size: '400x',
                                    class: 'videoBackgroundFile',
                                    autoplay: true,
                                    loop: true,
                                    controls: false,
                                    muted: true
                                }} 
                              {% else %}
                                {% comment %} {{
                                  media.preview_image
                                  | image_url: width: productImageSize
                                  | image_tag: sizes: 'auto', widths: '100,200,300,400,500,600,700,800'
                                }} {% endcomment %}
                                <img
                                  srcset="
                                    {%- if media.preview_image.width >= 165 -%}{{ media.preview_image | image_url: width: 165 }} 165w,{%- endif -%}
                                    {%- if media.preview_image.width >= 360 -%}{{ media.preview_image | image_url: width: 360 }} 360w,{%- endif -%}
                                    {%- if media.preview_image.width >= 533 -%}{{ media.preview_image | image_url: width: 533 }} 533w,{%- endif -%}
                                    {%- if media.preview_image.width >= 720 -%}{{ media.preview_image | image_url: width: 720 }} 720w,{%- endif -%}
                                    {%- if media.preview_image.width >= 940 -%}{{ media.preview_image | image_url: width: 940 }} 940w,{%- endif -%}
                                    {%- if media.preview_image.width >= 1066 -%}{{ media.preview_image | image_url: width: 1066 }} 1066w,{%- endif -%}
                                    {{ media.preview_image | image_url }} {{ media.preview_image.width }}w
                                  "
                                  src="{{ media.preview_image | image_url: width: 533 }}"
                                  sizes="auto"
                                  alt="{{ media.preview_image.alt | escape }}"
                                  class="product-first-img"
                                  {% if settings.enable_lazyload %}
                                    loading="lazy"
                                  {% endif %}
                                  width="{{ media.preview_image.width }}"
                                  height="{{ media.preview_image.height }}"
                                >
                              {% endif %}
                            </div>
                          </div>
                        </div>
                      {%- endfor -%}
                    {%- endfor -%}
                  </template>
                </deferred-media>
              </div>
            </div>
          {%- endif -%}
        {%- endunless -%}
      </a>
      {% if product.media.size > 2 %}
        {%- unless settings.product_hover_auto_slide -%}
          <button class="slider-button slider-button-prev">
            <svg class="flickity-button-icon" viewBox="0 0 100 100">
              <path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow"></path>
            </svg>
          </button>
          <button class="slider-button slider-button-next">
            <svg class="flickity-button-icon" viewBox="0 0 100 100">
              <path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow" transform="translate(100, 100) rotate(180) "></path>
            </svg>
          </button>
        {%- endunless -%}
      {%- endif -%}
      {%- if product.compare_at_price_min > product.price_min -%}
        {%- if settings.show_saved_amount -%}
          {% assign offText = 'products.product.off' | t %}
          {%- if settings.saved_amount_style == 'percentage' -%}
            <span class="discounts" tabindex="-1">
              {{-
                product.compare_at_price_min
                | minus: product.price_min
                | times: 100
                | divided_by: product.compare_at_price_min
                | append: '% '
                | append: offText
              }}
            </span>
          {%- else -%}
            <span class="discounts" tabindex="-1">
              {{- product.compare_at_price_min | minus: product.price_min | money | append: ' ' | append: offText -}}
            </span>
          {%- endif -%}
        {%- endif -%}
      {%- endif -%}
        {%- unless hide_options -%}
            {%- unless settings.show_atc == false -%}        
                {%- if product.quantity_price_breaks_configured? == false -%}
                  {%- if settings.show_atc -%}
                    {%- if product.has_only_default_variant or product.variants.size == 1 -%}
                      {%- if product.available -%}
                        {%- assign formID = productFormId | append: '-' | append: product.id -%}
                        <ul class="list-unstyled yv-product-options atc-style-{{ settings.atc_style }}" tabindex="-1"> 
                        <li class="yv-product-grid-form">
                          {%- form 'product',
                            product,
                            id: formID,
                            data-product-form: '',
                            data-product-handle: product.handle,
                            data-enable-history-state: 'true'
                          -%}
                            <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                            <button
                              type="submit"
                              class="Sd_addProduct{% if settings.hide_atc_mobile %} mobile-hide{% endif %}"
                              aria-label="{{ 'products.product.add_to_cart' | t }}"
                              tabindex="-1"
                            >
                              {% if settings.atc_style == 'icon' %}
                              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="17" viewBox="0 0 22 17">
                                <path  d="M811.524,2918.03a1.485,1.485,0,1,1-1.516,1.48A1.5,1.5,0,0,1,811.524,2918.03Zm6.579,0a1.485,1.485,0,1,1-1.516,1.48A1.5,1.5,0,0,1,818.1,2918.03Zm7.781-9.41a1.222,1.222,0,0,0-1.01-.59H810.352l-0.688-4.02h-4.638a0.99,0.99,0,1,0,0,1.98h2.941l0.636,3.83,0.89,6.06a1.212,1.212,0,0,0,1.2.99h10.329a1.228,1.228,0,0,0,1.01-.6l3.81-6.52A1.19,1.19,0,0,0,825.884,2908.62Zm-5.336,6.33h-9.155l-0.718-4.95h12.764Z" transform="translate(-804 -2904)"></path>
                              </svg>
                              <svg
                                xmlns="http://www.w3.org/2000/svg"
                                xmlns:xlink="http://www.w3.org/1999/xlink"
                                style="margin: auto; display: none; shape-rendering: auto;"
                                width="200px"
                                height="200px"
                                viewBox="0 0 100 100"
                                preserveAspectRatio="xMidYMid"
                                class="svg-loader"
                              >
                                <circle cx="50" cy="50" fill="none" stroke="#000" stroke-width="6" r="35" stroke-dasharray="164.93361431346415 56.97787143782138">
                                  <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"/>
                                </circle>
                              </svg>
                              {% else %}
                                <span>{{ 'products.product.add_to_cart' | t }}</span>
                                <svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  xmlns:xlink="http://www.w3.org/1999/xlink"
                                  style="margin: auto; display: none; shape-rendering: auto;"
                                  width="200px"
                                  height="200px"
                                  viewBox="0 0 100 100"
                                  preserveAspectRatio="xMidYMid"
                                  class="svg-loader"
                                >
                                  <circle cx="50" cy="50" fill="none" stroke="#000" stroke-width="6" r="35" stroke-dasharray="164.93361431346415 56.97787143782138">
                                    <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"/>
                                  </circle>
                                </svg>
                              {% endif %}
                            </button>
                          {%- endform -%}
                        </li>                        
                      </ul>
                      {%- endif -%}
                    {%- endif -%}
                  {%- endif -%}
                {%- endif -%}
            {%- endunless -%}
            {%- unless settings.show_similar == false and settings.show_quick_view == false -%}
              <ul class="list-unstyled icon-options" tabindex="-1">
                {%- unless hideRelated or settings.show_similar == false -%}
                  <li>
                    {%- liquid
                      assign productUrl = product.url
                    -%}
                    <a
                      href="{{ product.url }}"
                      class="similar_options {% unless settings.show_similar_text == false %}similar-hover-text{% endunless %} no-js-hidden"
                      aria-label="{{ 'products.product.similar_products' | t }}"
                      data-url="{{ productUrl }}"
                      tabindex="-1"
                    >
                      <span class="vs-icon text-{{ settings.show_similar_text }}">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          x="0px"
                          y="0px"
                          viewBox="0 0 18 18"
                          style="enable-background:new 0 0 18 18;"
                          xml:space="preserve"
                        >
                          <g>
                            <path d="M12,2.5H6c-0.7,0-1.3,0.6-1.3,1.3v10.5c0,0.7,0.6,1.3,1.3,1.3h6c0.7,0,1.3-0.6,1.3-1.3V3.7   C13.2,3.1,12.7,2.5,12,2.5z M12.2,3.7v10.5c0,0.1-0.1,0.2-0.2,0.2H6c-0.1,0-0.2-0.1-0.2-0.2V3.7c0-0.1,0.1-0.2,0.2-0.2h6   C12.1,3.5,12.2,3.6,12.2,3.7z"/>
                            <path d="M3.5,14c-0.1,0-0.3,0-0.3-0.2L1,6.2C1,6.1,1,6.1,1,6c0,0,0.1-0.1,0.1-0.1l2.7-0.7v-1L0.9,5   C0.6,5.1,0.3,5.3,0.2,5.5C0,5.8,0,6.1,0,6.4l2.2,7.7C2.4,14.6,2.9,15,3.4,15c0.1,0,0.2,0,0.3-0.1l0.2-0.1v-1L3.5,14L3.5,14z"/>
                            <path d="M17.1,5l-3-0.8v1l2.7,0.7c0.1,0,0.1,0,0.1,0.1c0,0,0,0.1,0,0.2l-2.1,7.7c0,0.1-0.2,0.2-0.3,0.2l-0.4-0.1v1   l0.1,0.1c0.1,0,0.2,0.1,0.4,0.1c0.5,0,1-0.3,1.2-0.9L18,6.4l0-0.1C18.1,5.8,17.7,5.2,17.1,5z"/>
                          </g>
                        </svg>
                        {%- unless settings.show_similar_text == false -%}
                          <span class="similar-text">{{ 'products.product.similar_products' | t }}</span>
                        {%- endunless -%}
                      </span>
                    </a>
                  </li>
                {%- endunless -%}
                {%- if settings.show_quick_view -%}
                  <li>
                    {%- if settings.quick_view_style == 'drawer' -%}
                      <a
                        tabindex="-1"
                        href="{{ product.url }}"
                        class="quickView{% if settings.hide_quick_view_mobile %} mobile-hide{% endif %}"
                        data-href="{{ product.url }}"
                        aria-label="{{ 'general.quick_view_heading' | t }}"
                        tabindex="-1"
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="12.32" viewBox="0 0 21.312 12.32">
                          <path  d="M700.034,2910.26h-0.042a3.653,3.653,0,0,0-2.506,1.06,3.047,3.047,0,0,0-.943,2.22,3.391,3.391,0,0,0,3.524,3.14h0.117a3.384,3.384,0,0,0,3.449-3.23A3.427,3.427,0,0,0,700.034,2910.26Zm-1.52,4.43a1.713,1.713,0,0,1-.518-1.25,1.942,1.942,0,0,1,2.021-1.79h0.042a1.939,1.939,0,0,1,1.979,1.82,1.961,1.961,0,0,1-2.021,1.83h0A2.145,2.145,0,0,1,698.514,2914.69Zm11.951-1.68h0c-0.192-.23-4.719-5.66-10.481-5.66-5.6,0-9.989,5.05-10.482,5.66a0.79,0.79,0,0,0,0,.98c0.484,0.57,4.844,5.66,10.482,5.66s10.022-5.06,10.481-5.66A0.794,0.794,0,0,0,710.465,2913.01Zm-1.862.49c-1.153,1.22-4.644,4.52-8.619,4.52s-7.467-3.33-8.62-4.55c1.153-1.21,4.644-4.5,8.62-4.5s7.466,3.29,8.619,4.5v0.03Z" transform="translate(-689.344 -2907.34)"></path>
                        </svg>
                      </a>
                    {% else %}
                      <quick-add-toggle
                        class="cursor-pointer{% if settings.hide_quick_view_mobile %} mobile-hide{% endif %}"
                        aria-label="{{ 'general.quick_view_heading' | t }}"
                        tabindex="-1"
                      >
                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="12.32" viewBox="0 0 21.312 12.32">
                          <path  d="M700.034,2910.26h-0.042a3.653,3.653,0,0,0-2.506,1.06,3.047,3.047,0,0,0-.943,2.22,3.391,3.391,0,0,0,3.524,3.14h0.117a3.384,3.384,0,0,0,3.449-3.23A3.427,3.427,0,0,0,700.034,2910.26Zm-1.52,4.43a1.713,1.713,0,0,1-.518-1.25,1.942,1.942,0,0,1,2.021-1.79h0.042a1.939,1.939,0,0,1,1.979,1.82,1.961,1.961,0,0,1-2.021,1.83h0A2.145,2.145,0,0,1,698.514,2914.69Zm11.951-1.68h0c-0.192-.23-4.719-5.66-10.481-5.66-5.6,0-9.989,5.05-10.482,5.66a0.79,0.79,0,0,0,0,.98c0.484,0.57,4.844,5.66,10.482,5.66s10.022-5.06,10.481-5.66A0.794,0.794,0,0,0,710.465,2913.01Zm-1.862.49c-1.153,1.22-4.644,4.52-8.619,4.52s-7.467-3.33-8.62-4.55c1.153-1.21,4.644-4.5,8.62-4.5s7.466,3.29,8.619,4.5v0.03Z" transform="translate(-689.344 -2907.34)"></path>
                        </svg>
                        <template>
                          {% render 'quick-add-content', product: product %}
                        </template>
                      </quick-add-toggle>
                    {% endif %}
                  </li>
                {% endif %}
              </ul>            
            {%- endunless -%}
        {%- endunless -%}
        {% if settings.show_size_options and product.options_with_values.size > 1 %}
          {%- for option in product.options_with_values -%}
            {%- liquid
              assign index = forloop.index
              assign sizeOptions = settings.size_name | downcase
              assign downOption = option.name | downcase
              assign varOptionIndex = 'option' | append: forloop.index
            -%}
          
            {% if sizeOptions contains downOption %}
              <div class="yv-size-options">
                <span class="yv-size-options-text">
                  {{ option.name | upcase }}
                </span>
                <ul class="list-unstyled yv-size-options-list">
                  {%- for value in option.values limit: 5 %}                                                     
                    <li class="yv-size-options-item"><a href="{{ mainProductUrl }}?variant={{ value.variant.id }}"><span>{{ value }}</span></a></li>
                  {%- endfor -%}
                  {% if option.values.size > 5 %}
                    <li class="yv-size-options-item">
                      <a href="{{ mainProductUrl }}" class="unstyled-link" tabindex="-1" aria-label="Product option"
                        >{{ option.values.size | minus: 5 }} more
                      </a> 
                    </li>
                  {% endif %}
                </ul>
              </div>
            {% endif %}
          {% endfor %}
        {% endif %}
      <div class="badges-parent">
      {%- if product.available == false -%}
        {% if settings.enable_badges %}
          <div class="yv-product-badge sold-badge">
            {% if product.tags contains 'sd_comingsoon'
              and product.selected_or_first_available_variant.inventory_quantity <= 0
              and product.selected_or_first_available_variant.inventory_policy == 'deny'
            %}
              {{ 'products.product.coming_soon' | t }}
            {% else %}
              {{ 'products.product.sold_out' | t }}
            {% endif %}
          </div>
        {% endif %}
      {%- else -%}
        {% liquid
          assign preorder = false
          if product.tags contains 'sd_preorder' and product.selected_or_first_available_variant.inventory_quantity <= 0 and product.selected_or_first_available_variant.inventory_policy == 'continue'
            assign preorder = true
          elsif product.selected_or_first_available_variant.inventory_quantity <= 0 and product.selected_or_first_available_variant.inventory_policy == 'continue'
            assign preorder = true
          endif
        %}
        {% if preorder %}
          {% if settings.enable_preorder_badge %}
            <div class="yv-product-badge preorder-badge">{{ 'products.product.preorder' | t }}</div>
          {% endif %}
        {%- elsif product.compare_at_price > product.price -%}
          {% if settings.enable_sale_badge %}
            <div class="yv-product-badge sale-badge">
              {{ 'products.product.on_sale' | t }}
            </div>
          {% endif %}
        {%- endif -%}
      {%- endif -%}
      {% assign custom_tags = settings.custom_tag | split: ',' %}
      {% if settings.custom_tag_label != blank %}
        {% liquid
          assign tagStatus = false
          for tag in custom_tags
            assign customTag = tag | downcase | strip
            for productTag in product.tags
              assign currentTag = productTag | downcase
              if currentTag == customTag
                assign tagStatus = true
              endif
            endfor
          endfor
        %}
        {% if tagStatus %}
          <div class="yv-product-badge custom-badge">
            {{ settings.custom_tag_label }}
          </div>
        {% endif %}
      {% endif %}
    </div>
    </div>
    <div class="yv-product-information {{ productInfoAlignment }}">
      <div class="product-content-left">
      {%- if settings.show_reviews -%}
        {%- unless hideReviews -%}
          {%- if product.metafields.reviews.rating_count > 0 -%}
            {%- liquid
              assign productRating = product.metafields.reviews.rating.value.rating | floor
              assign decimalProductRating = 0
              assign decimal = product.metafields.reviews.rating.value.rating | modulo: 1
              if decimal >= 0.3 and decimal <= 0.7
                assign decimalProductRating = 0.5
              endif
            -%}
            <div class="ratingbox">
              <span class="star-ratings">
                {%- for i in (1..5) -%}
                  {%- if i <= productRating -%}
                    <svg
                      class="fill-review"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 380 362"
                      width="20"
                      height="19"
                    >
                      <path fill-rule="evenodd"  fill="currentcolor" d="m204.7 10.5l37.5 116.1l122-0.3c15.4 0 21.2 19.1 7.7 28.9l-97.5 70.5l37.9 115.9c4.9 14.8-12.9 26.5-24.6 16.5l-97.6-71.2l-98.6 71.9c-13.4 9.7-28.2-3.4-22.6-20.4l36.9-112.7l-98.8-71.5c-12.6-9.1-5.2-28.9 10.1-27.9l120.9 0.3l37.5-116.1c4.5-14.2 24.7-14.1 29.2 0z" />
                    </svg>
                  {%- elsif productRating < i and decimalProductRating == 0.5 -%}
                    <svg class="half-fill-review" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.89 19.01">
                      <defs><style>.d{fill:#ddd;}.e{fill:currentcolor;}</style></defs>
                      <g/>
                      <g>
                        <g>
                          <g>
                            <path class="e" d="M9.18,.56l-1.97,6.09-6.35-.02c-.8-.05-1.19,.99-.53,1.46l5.19,3.75-1.94,5.92c-.29,.89,.48,1.58,1.19,1.07l5.17-3.77V0c-.32,0-.65,.19-.76,.56Z"/>
                            <path class="d" d="M19.08,6.63l-6.4,.02L10.71,.56C10.59,.19,10.27,0,9.94,0V15.07h0l5.12,3.73c.61,.52,1.55-.09,1.29-.87l-1.99-6.08,5.12-3.7c.71-.51,.4-1.52-.4-1.52Z"/>
                          </g>
                        </g>
                      </g>
                    </svg>
                  {%- else -%}
                    <svg
                      class="unfill-review"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 380 362"
                      width="20"
                      height="19"
                    >
                      <path fill-rule="evenodd"  fill="#ddd" d="m204.7 10.5l37.5 116.1l122-0.3c15.4 0 21.2 19.1 7.7 28.9l-97.5 70.5l37.9 115.9c4.9 14.8-12.9 26.5-24.6 16.5l-97.6-71.2l-98.6 71.9c-13.4 9.7-28.2-3.4-22.6-20.4l36.9-112.7l-98.8-71.5c-12.6-9.1-5.2-28.9 10.1-27.9l120.9 0.3l37.5-116.1c4.5-14.2 24.7-14.1 29.2 0z" />
                    </svg>
                  {%- endif -%}
                {%- endfor -%}
              </span>
            </div>
          {%- endif -%}
        {%- endunless -%}
      {%- endif -%}
      {% if settings.show_vendor %}
        <div class="yv-product-vendor-info">
          {{ product.vendor }}
        </div>
      {% endif %}
      {% liquid
        if settings.show_inventory
          assign thershold = settings.inventory_threshold
          if product.available
            assign stock = 0
            assign selling = false
            assign lows_inventory = false
            assign track_inventory = true
            for variant in product.variants
              if variant.inventory_policy == 'continue'
                assign selling = true
              endif
              if variant.inventory_management == null
                assign track_inventory = false
              endif
              if variant.inventory_quantity == 0
                assign lows_inventory = true
              endif
              if variant.inventory_quantity > 0
                assign stock = stock | plus: variant.inventory_quantity
              endif
            endfor
            if track_inventory == true
              if lows_inventory == true and selling and stock >= 0
                assign stockconent = 'products.product.in_stock' | t
                assign stockClass = 'yv-instock'
              elsif selling == false and stock > 0 and stock > thershold
                assign stockconent = 'products.product.in_stock_with_unit' | t: stock: stock
                assign stockClass = 'yv-instock'
              elsif stock > 0 and thershold > stock
                assign stockconent = 'products.product.low_stock' | t: stock: stock
                assign stockClass = 'yv-lowstock'
              elsif stock <= 0 and selling == true
                assign stockconent = 'products.product.restock' | t
                assign stockClass = 'yv-restock'
              else
                assign stockconent = 'products.product.in_stock' | t
                assign stockClass = 'yv-instock'
              endif
            elsif track_inventory == false
              assign stockconent = 'products.product.in_stock' | t
              assign stockClass = 'yv-instock'
            endif
          else
            assign stockconent = 'products.product.out_of_stock' | t
            assign stockClass = 'yv-outofstock'
          endif
        endif
      %}      
      <a
        href="{{ mainProductUrl }}"
        class="yv-product-title {{ settings.product_grid_content_size }} {% if settings.truncate_title >= 1 %}title-truncate{% endif %}"
        title="{{ product.title | strip_html }}"
        aria-label="{{ product.title | strip_html }}"
        tabindex="-1"
      >
        {{- product.title | strip_html -}}
      </a>  
      {% unless settings.product_grid_content_alignment == 'text-justify' %}
          {%- if settings.show_price -%}
            <div
              class="yv-prizebox {{ settings.product_grid_content_size }}"
              data-saved="{{ settings.show_saved_amount }}"
              data-saved-style="{{ settings.saved_amount_style }}"
              data-price-wrapper=""
              {{ block.shopify_attributes }}
            >
              {%- assign price_min = product.price_min | money -%}
              {%- if product.price_varies -%}
                <span class="yv-product-price price-varies">
                  {{- 'products.product.price.from_price_html' | t: price: price_min -}}
                </span>
              {%- else -%}
                <span class="yv-product-price">{{ price_min }}</span>
              {%- endif -%}
              {%- if product.compare_at_price_min > product.price_min -%}
                <span class="yv-product-compare-price">{{ product.compare_at_price_min | money }}</span>
              {%- endif -%}
            </div>

            {%- if current_variant.unit_price_measurement -%}
              <p class="yv-product-unit-price {{ settings.product_grid_content_size }}">
                {{ current_variant.unit_price | money }} /
                {% if current_variant.unit_price_measurement.reference_value != 1 -%}
                  {{- current_variant.unit_price_measurement.reference_value -}}
                {%- endif %}
                {{ current_variant.unit_price_measurement.reference_unit }}
              </p>
            {%- endif -%}
            {%- if product.quantity_price_breaks_configured? -%}
              <div class="card__information-volume-pricing-note">
                <span class="text-xsmall">{{ 'products.product.volume_pricing.note' | t }}</span>
              </div>
            {%- endif -%}
          {%- endif -%}
        {% endunless %}
      {% if settings.show_inventory and hidestockcount != true %}
        <p class="stock-status {{ stockClass }}">
          <span>{% render 'icons', icon: stockClass %}</span>{{ stockconent }}
        </p>
      {% endif %}
      {% unless hideCustomLabel %}
        {% unless producttags %}
          <ul class="list-unstyled yv-product-card-label-container">
            {% liquid
              assign custom_label1 = settings.custom_label1 | split: '.'
              assign key1 = custom_label1 | first
              assign value1 = custom_label1 | last
              assign custom_label2 = settings.custom_label2 | split: '.'
              assign key2 = custom_label2 | first
              assign value2 = custom_label2 | last
              assign custom_label3 = settings.custom_label3 | split: '.'
              assign key3 = custom_label3 | first
              assign value3 = custom_label3 | last
              assign custom_label4 = settings.custom_label4 | split: '.'
              assign key4 = custom_label4 | first
              assign value4 = custom_label4 | last
            %}
            {% if product.metafields[key1][value1] != blank %}
              <li class="yv-product-card-label">
                {{ product.metafields[key1][value1] }}
              </li>
            {% endif %}
            {% if product.metafields[key2][value2] != blank %}
              <li class="yv-product-card-label">
                {{ product.metafields[key2][value2] }}
              </li>
            {% endif %}
            {% if product.metafields[key3][value3] != blank %}
              <li class="yv-product-card-label">
                {{ product.metafields[key3][value3] }}
              </li>
            {% endif %}
            {% if product.metafields[key4][value4] != blank %}
              <li class="yv-product-card-label">
                {{ product.metafields[key4][value4] }}
              </li>
            {% endif %}
          </ul>
        {% endunless %}
      {% endunless %}
      {% unless hidePickup %}
        {%- if settings.show_grid_pickup -%}
          {%- render 'grid-pickup-availability', product: product -%}
        {%- endif -%}
      {% endunless %}
      {% if settings.enable_color_swatches %}
        {%- for option in product.options_with_values -%}
          {%- liquid
            assign colorOptions = settings.color_name | downcase
            assign downOption = option.name | downcase
            assign varOptionIndex = 'option' | append: forloop.index
          -%}
          {% if colorOptions contains downOption %}
            <div class="select-color product-option-selector color-variants-wrapper">
              <ul class="list-unstyled product-loop-variants circle">
                {%- for value in option.values limit: 5 -%}
                  {% liquid
                    if value.swatch.image
                      assign image_url = value.swatch.image | image_url: width: 50
                      assign swatch_value = 'background-image: url(' | append: image_url | append: ')'
                      assign swatch_focal_point = value.swatch.image.presentation.focal_point
                    elsif value.swatch.color
                      assign swatch_value = 'background-color:rgb(' | append: value.swatch.color.rgb | append: ')'
                    else
                      assign swatch_value = null
                    endif
                  %}
                  {% liquid
                    assign variantOption = 'option' | append: option.position
                    assign variantValue = product.variants | where: variantOption, value | compact: 'featured_media' | first
                    assign min = 1
                    assign max = 1000000
                    assign diff = max | minus: min
                    assign randomNumber = 'now' | date: '%N' | modulo: diff | plus: min
                  -%}
                  <li class="color_option variant_option" data-color-wrapper>
                    {%- liquid
                      assign variantImage = ''
                      if settings.variant_image
                        assign variantsList = product.variants | where: varOptionIndex, value
                        for variant in variantsList
                          if variant.featured_image != blank
                            assign variantImage = variant.featured_image
                            break
                          endif
                        endfor
                      endif
                    -%}
                    <label
                      class="visually-hidden"
                      for="product-{{ product.id }}_option-{{ forloop.index }}-{{ section.id }}{{ randomNumber }}-{{ index }}-{{ block.id }}-{{ value | handle }}"
                    >
                      {{- value | escape -}}
                    </label>
                    <input
                      class="productOption"
                      id="product-{{ product.id }}_option-{{ forloop.index }}-{{ section.id }}{{ randomNumber }}-{{ index }}-{{ block.id }}-{{ value | handle }}"
                      type="radio"
                      name="product-{{ product.id }}_option-{{ section.id }}-{{ index }}-{{ block.id }}"
                      value="{{ value | escape }}"
                      title="{{ value | escape }}"
                      tabindex="-1"
                      {% if variantValue.featured_media != blank %}
                        onClick="switchSwatchMedia(event)"
                      {% endif %}
                    >
                    {%- assign variantColorImage = value | handleize | append: '.png' -%}
                    <span
                      class="option {% unless settings.variant_image %}variantColorOption {% if value.swatch.image %} variantImageOption {% if value.swatch.image %} variantImageOption{% endif %}{% endif %}{% else %}variantImageOption{% endunless %}"
                       data-pallet-color="{{ value | downcase }}"
                      {% unless settings.variant_image and variantImage != blank %}
                        style="{% if swatch_value != null %}{{ swatch_value }}; {% else %}background-color:{{ value }};background-image:url('{{ variantColorImage | asset_img_url : 100 }}');{% endif %}  {% if swatch_focal_point %} --swatch-focal-point: {{ swatch_focal_point }};{% endif %}"
                      {% endunless %}
                    >
                      {%- if settings.variant_image -%}
                        {%- if variantImage != blank -%}
                          <img
                            src="{{ variantImage | image_url: width: 34 }}"
                            width="34"
                            height="34"
                            alt="{{ variantImage.alt | strip_html | escape }}"
                            loading="lazy"
                          >
                        {%- endif -%}
                      {%- endif -%}
                    </span>
                    {% if variantValue.featured_media != blank %}
                      {% capture selectedColorImage %}
                      <div class="media-content">
                      {%- render 'lazy-image' image: variantValue.featured_media, class: 'product-first-img', width: productImageSize -%}
                      </div>
                    {% endcapture %}
                      <script>
                        {{- selectedColorImage | json -}}
                      </script>
                    {% endif %}
                  </li>
                {% endfor %}
                {% if option.values.size > 5 %}
                  <li class="more_options">
                    <a href="{{ mainProductUrl }}" class="unstyled-link" tabindex="-1" aria-label="Product option"
                      >+{{ option.values.size | minus: 5 -}}
                    </a>
                  </li>
                {% endif %}
              </ul>
            </div>
          {% endif %}
        {% endfor %}
      {% endif %}
    </div>
      {% if settings.product_grid_content_alignment == 'text-justify' %}
        {%- if settings.show_price -%}
          <div
            class="yv-prizebox {{ settings.product_grid_content_size }}"
            data-saved="{{ settings.show_saved_amount }}"
            data-saved-style="{{ settings.saved_amount_style }}"
            data-price-wrapper=""
            {{ block.shopify_attributes }}
          >
            {%- assign price_min = product.price_min | money -%}
            {%- if product.price_varies -%}
              <span class="yv-product-price price-varies">
                {{- 'products.product.price.from_price_html' | t: price: price_min -}}
              </span>
            {%- else -%}
              <span class="yv-product-price">{{ price_min }}</span>
            {%- endif -%}
            {%- if product.compare_at_price_min > product.price_min -%}
              <span class="yv-product-compare-price">{{ product.compare_at_price_min | money }}</span>
            {%- endif -%}
          </div>
          {%- if current_variant.unit_price_measurement -%}
            <p class="yv-product-unit-price {{ settings.product_grid_content_size }}">
              {{ current_variant.unit_price | money }} /
              {% if current_variant.unit_price_measurement.reference_value != 1 -%}
                {{- current_variant.unit_price_measurement.reference_value -}}
              {%- endif %}
              {{ current_variant.unit_price_measurement.reference_unit }}
            </p>
          {%- endif -%}
          {%- if product.quantity_price_breaks_configured? -%}
            <div class="card__information-volume-pricing-note">
              <span class="text-xsmall">{{ 'products.product.volume_pricing.note' | t }}</span>
            </div>
          {%- endif -%}
        {%- endif -%}
      {% endif %}
    </div>    
    {% if source %}
      {% unless product.has_only_default_variant or product.variants.size == 1 %}
        {% if product.available %}
        <div class="product-loop-variants">
          <svg fill="currentColor" viewBox="0 0 448 512">
            <path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" class=""></path>
            </svg>
          <select class="productOption" data-bundle-product-option>
            {% for variant in product.variants %}              
              <option value="{{ variant.id }}" data-variant-image="{{ variant.featured_media.preview_image | image_url: width: 300 }}" data-title="{{ variant.title | escape }}" data-price="{{ variant.price }}"{% if variant.available == false %} disabled{% endif %} {% if variant.id == product.selected_or_first_available_variant.id %} selected{% endif %}>
                {{ variant.title }} - {{ variant.price | money }}
              </option>              
            {% endfor %}
          </select>
        </div>
          {% endif %}
      {% endunless %}      
    {% endif %}
  </div>
</div>
